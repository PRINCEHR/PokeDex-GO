angular.module("App",["ionic","ionic.cloud","ngCordova","ngAnimate","pascalprecht.translate","ngCordovaOauth","firebase","monospaced.elastic","angularMoment"]).run(["$ionicPlatform","$animate","myConfig","Admob","Store","amMoment","$rootScope","$ionicDeploy","$cordovaToast","$ionicPopup","$filter",function(e,t,o,n,i,r,a,l,c,s,u){var p=function(e){window.cordova?c.showShortBottom(e):alert(e)};e.ready(function(){window.cordova&&window.cordova.plugins.Keyboard&&(cordova.plugins.Keyboard.hideKeyboardAccessoryBar(!0),cordova.plugins.Keyboard.disableScroll(!0)),window.StatusBar&&StatusBar.styleDefault(),n.prepare(),i.initialize();var e=u("translate");l.channel="dev",p("Checking new versions..."),l.check().then(function(t){t&&l.download().then(function(){return l.extract()}).then(function(){s.show({title:e("cancelText"),subTitle:e("updateDownloaded"),buttons:[{text:e("notNow")},{text:e("restart"),onTap:function(){l.load().then(function(){p(e("restarting"))}).cacth(function(e){p(e)})}}]})}).cacth(function(e){p(e)})}).cacth(function(e){p(e)})}),t.enabled(!0),a.$on("$translateChangeEnd",function(e,t){r.changeLocale(t.language)})}]).config(["$stateProvider","$urlRouterProvider","$ionicConfigProvider","$compileProvider","$translateProvider","$ionicCloudProvider",function(e,t,o,n,i,r){r.init({core:{app_id:"8d5cd27d"}});var a={apiKey:"AIzaSyAkYJfW0D1EsDPElYqJoan3AH6X8agQr2k",authDomain:"pokedex-go-6f5f2.firebaseapp.com",databaseURL:"https://pokedex-go-6f5f2.firebaseio.com",projectId:"pokedex-go-6f5f2",storageBucket:"pokedex-go-6f5f2.appspot.com",messagingSenderId:"480841255520"};firebase.initializeApp(a),n.imgSrcSanitizationWhitelist(/^\s*(https?|ftp|file|blob|content|ms-appx|x-wmapp0):|data:image\/|img\//),n.aHrefSanitizationWhitelist(/^\s*(https?|ftp|mailto|file|ghttps?|ms-appx|x-wmapp0):/),ionic.Platform.isIOS()&&o.scrolling.jsScrolling(!0),o.views.swipeBackEnabled(!1),o.navBar.alignTitle("right"),i.useStaticFilesLoader({prefix:"language/",suffix:".json"}),i.registerAvailableLanguageKeys(["en","es"],{"en_*":"en","es_*":"es","*":"en"}),i.determinePreferredLanguage(),i.fallbackLanguage("en");var l=window.localStorage.getItem("lang");l&&i.preferredLanguage(l),i.useSanitizeValueStrategy("escape"),e.state("app",{url:"/app","abstract":!0,controller:"AppController",templateUrl:"templates/menu.html"}).state("app.home",{url:"/home",views:{viewContent:{templateUrl:"templates/home.html",controller:"HomeController"}}}).state("app.teams",{url:"/teams",params:{title:null,color:null,icon:null},views:{viewContent:{templateUrl:"templates/teams.html",controller:"TeamsController"}}}).state("app.teams.chat",{url:"/chat",params:{team:"all"},cache:!1,auth:!0,views:{"viewContent@app":{templateUrl:"templates/chat.html",controller:"ChatController"}}}).state("app.credits",{url:"/credits",views:{viewContent:{templateUrl:"templates/credits.html",controller:"CreditsController"}}}).state("app.item",{url:"/item/{title}",params:{title:null,color:null,icon:null},cache:!1,views:{viewContent:{templateUrl:"templates/item.html",controller:"ItemController"}}}).state("app.findPokemon",{url:"/findPokemon",params:{title:null,color:null,icon:null},cache:!1,views:{viewContent:{templateUrl:"templates/findPokemon.html",controller:"FindPokemonController"}}}).state("app.events",{url:"/events",params:{title:null,color:null,icon:null},cache:!1,views:{viewContent:{templateUrl:"templates/events.html",controller:"EventsController"}}}).state("app.report",{url:"/report",params:{title:null,color:null,icon:null},cache:!1,views:{viewContent:{templateUrl:"templates/report.html",controller:"ReportController"}}}).state("app.myProfile",{url:"/myProfile",params:{title:null,color:null,icon:null},cache:!1,views:{viewContent:{templateUrl:"templates/myProfile.html",controller:"MyProfileController"}}}).state("app.pokeStops",{url:"/pokeStops",params:{title:null,color:null,icon:null},cache:!1,views:{viewContent:{templateUrl:"templates/pokeStops.html",controller:"PokeStopsController"}}}).state("app.calculator",{url:"/calculator",params:{title:null,color:null,icon:null},cache:!1,views:{viewContent:{templateUrl:"templates/calculator.html",controller:"CalculatorController"}}}).state("app.statistics",{url:"/statistics",params:{title:null,color:null,icon:null},cache:!1,views:{viewContent:{templateUrl:"templates/statistics.html",controller:"StatisticsController"}}}),t.otherwise(function(e,t){var o=e.get("$state");o.go("app.home")})}]).constant("myConfig",{googleClientId:"480841255520-eifl76bvrbtp9hv36ste5tc9eaqvjnif.apps.googleusercontent.com",firebaseUrl:"https://pokedex-go-6f5f2.firebaseio.com",firebaseMsgUrl:"",authEvents:{notAuthenticated:"auth-not-authenticated",notAuthorized:"auth-not-authorized"},adMob:{id:"ca-app-pub-1341604615212202/4710753178"}}),function(e,t){"use strict";function o(){return{restrict:"E",replace:!1,link:function(e,o){t.Platform&&(t.Platform.isWindowsPhone()||t.Platform.isIE()||"edge"===t.Platform.platform())&&o.attr("data-tap-disabled","true")}}}t.Platform.isIE=function(){return t.Platform.ua.toLowerCase().indexOf("trident")>-1},t.Platform.isIE()&&e.module("ionic").factory("$ionicNgClick",["$parse","$timeout",function(t,o){return function(n,i,r){var a=e.isFunction(r)?r:t(r);i.on("click",function(e){n.$apply(function(){n.clicktimer||(a(n,{$event:e}),n.clicktimer=o(function(){delete n.clicktimer},1,!1))})}),i.onclick=function(e){}}}]),e.module("ionic").directive("select",o)}(angular,ionic),window.queries=["DROP TABLE IF EXISTS Users;","CREATE TABLE Users (IdUser integer primary key autoincrement, Name text not null);","INSERT INTO 'Users' ('Name') VALUES ('Juan David Nicholls Cardona');","INSERT INTO 'Users' ('Name') VALUES ('Khriztian Moreno Zuluaga');","INSERT INTO 'Users' ('Name') VALUES ('Cristian Rivas Buitrago');","INSERT INTO 'Users' ('Name') VALUES ('Juan David Sánchez');","INSERT INTO 'Users' ('Name') VALUES ('Nicolas Molina');","INSERT INTO 'Users' ('Name') VALUES ('Miyamoto Musashi FIlander');","INSERT INTO 'Users' ('Name') VALUES ('Didier Hernandez');","INSERT INTO 'Users' ('Name') VALUES ('Luis Eduardo Oquendo Pérez');","INSERT INTO 'Users' ('Name') VALUES ('Carlos Rojas');","INSERT INTO 'Users' ('Name') VALUES ('Levano Castilla Carlos Miguel');"],function(){"use strict";function e(e,t,o,n,i){var r=i.$filter("translate");e.items=[{color:"#28AAFD",icon:"ion-chatboxes",title:"teams",state:"app.teams",img:"img/pokestop.svg",left:"88px"}];var a=function(){e.popup=o.$ionicPopup.alert({scope:e,title:r("logInTitle"),templateUrl:"templates/modals/auth.html",hideOnStateChange:!0,okText:r("cancelText"),okType:"button-assertive",cssClass:"animated rollIn"})},l=null;e.$on(t.authEvents.notAuthorized,function(e,t){l={next:t.next,nextParams:t.nextParams},a()});var c,s=function(){var t=this;t.stopped=!1,n.Network.tryToConnect().then(function(){n.Auth.login().then(function(e){n.Loader.hide(),l&&(i.$rootScope.user=e.user||e,i.$state.go(l.next,l.nextParams),l=null)})["catch"](function(e){alert(e),t.stopped||(n.Loader.hide(),a())})})["catch"](function(i){t.stopped||(n.Loader.hide(),e.popup=o.$ionicPopup.alert({title:r("networkErrorTitle"),template:r("networkErrorTemplate"),hideOnStageChange:!0,cssClass:"animated rotateIn",okType:"button-assertive"}).then(function(){a()}))})};e.login=function(){n.Loader.show(e),e.popup&&e.popup.close&&(e.popup.close(),e.popup=null),c=new s},e.logout=function(){o.$ionicPopup.confirm({title:r("logOutTitle"),template:r("logOutTemplate"),okText:r("logOutOk"),okType:"button-assertive",cancelText:r("cancelText"),cssClass:"animated bounceInDown"}).then(function(e){e&&n.Auth.logout()})},e.stopLoading=function(){o.$ionicLoading.hide(),n.Network.stop(),c.stopped=!0},e.openAd=function(){n.Audio.play("pikapi"),n.Admob.open()},e.exitApp=function(){ionic.Platform.exitApp()},n.Audio.preload("pikapi")}angular.module("App").controller("AppController",e),e.$inject=["$scope","myConfig","Ionic","Model","Angular"]}(),function(){"use strict";function e(e,t,o,n){e.item={title:t.title,icon:t.icon,color:t.color},e.item.icon||(o.$ionicViewSwitcher.nextDirection("back"),o.$ionicHistory.nextViewOptions({disableBack:!0,disableAnimate:!0,historyRoot:!0}),n.$state.go("app.home"))}angular.module("App").controller("CalculatorController",e),e.$inject=["$scope","$stateParams","Ionic","Angular"]}(),function(e){"use strict";function t(t,o,n,i,r,a){function l(){u.one("blur",function(){u[0].focus()})}var c,s,u,p=o.$filter("translate"),d=n.$ionicScrollDelegate.$getByHandle("userMessageScroll");t.messages=[];var m=function(e){var o=new Date;e._id=o.getTime(),e.date=o.toISOString(),e.username=t.user.username,e.userId=t.user._id,e.pic=t.user.pic||null};t.sendMessage=function(e){var n={text:t.input.message};l(),m(n),t.input.message="",i.Chat.addMessageAndLocation(n),o.$timeout(function(){l()},0)},t.onMessageHold=function(e,t,o){o.photo||n.$ionicActionSheet.show({buttons:[{text:p("copyMessage")}],buttonClicked:function(e){switch(e){case 0:r.copy(o.text)}return!0}})},t.viewProfile=function(e){e.userId===t.user._id},t.$on("elastic:resize",function(e,t,o,n){if(c){var i=n+10;i=i>44?i:44,c.style.height=i+"px",s.style.bottom=i+"px"}}),t.onProfilePicError=function(){return"https://www.google.com.ua/images/srpr/logo4w.png"},t.refreshScroll=function(e,n){o.$timeout(function(){e=e||t.scrollDown,d.resize(),e&&d.scrollBottom(!0),t.checkScroll()},n||1e3)},t.scrollDown=!0,t.checkScroll=function(){return o.$timeout(function(){var e=d.getScrollPosition().top,o=d.getScrollView().__maxScrollTop;t.scrollDown=e>=o,t.$apply()},0),!0};var f,h=function(){i.Geolocation.getLocation().then(function(e){i.Chat.updateGeoQuery(e)})},g=function(){i.Loader.show(t),i.Geolocation.getLocation().then(function(e){i.Loader.hide(),i.Chat.initialize(a.team),i.Chat.createGeoQuery(t.messages,t,e)})["catch"](function(e){i.Loader.hide(),n.$ionicPopup.confirm({title:p("gpsTitle"),template:p("gpsTemplate"),okText:p("okText"),okType:"button-assertive",cancelText:p("cancelText"),cssClass:"animated bounceInDown"}).then(function(e){e?g():v()})})},v=function(){n.$ionicViewSwitcher.nextDirection("back"),n.$ionicHistory.nextViewOptions({disableBack:!0,disableAnimate:!0,historyRoot:!0}),o.$state.go("app.teams")};t.$on("$ionicView.beforeEnter",function(){var n=e.auth().currentUser||o.$rootScope.user;return n?(t.user={_id:n.email,pic:n.photoURL||n.providerData[0].photoURL||"img/player.svg",username:(n.displayName||n.providerData[0].displayName||n.email.split("@")[0]).split(" ").splice(0,2).filter(Boolean).join(" ")},g(),void(t.progressBar=0)):v()}),t.$on("$ionicView.enter",function(){o.$timeout(function(){c=document.body.querySelector(".chatView .bar-footer"),s=document.body.querySelector(".chatView .scroll-content"),u=angular.element(c.querySelector("textarea"))},0),f=o.$interval(h,12e4)}),t.$on("$ionicView.beforeLeave",function(){o.$interval.cancel(f),i.Chat.destroyGeoQuery()}),t.stopLoading=function(){},t.sendPhoto=function(){i.Media.getPhoto().then(function(e){var n=i.Chat.addEmptyMessage();i.Media.uploadFile(e,"chat",n.key).then(function(e){var r={photo:e};m(r),i.Chat.updateMessageAndLocation(n.path,n.key,r),o.$timeout(function(){t.progressBar=0},1500)},function(e){alert(e)},function(e){t.progressBar=e+"%"})})},t.photoBrowser=function(e){var n=o.$filter("filter")(t.messages,{photo:""});t.activeSlide=n.indexOf(e),t.allImages=n.map(function(e){return e.photo}),i.Modals.openModal(t,"templates/modals/fullscreenImages.html")},t.closeModal=function(){i.Modals.closeModal()}}angular.module("App").controller("ChatController",t),t.$inject=["$scope","Angular","Ionic","Model","$cordovaClipboard","$stateParams"]}(firebase),function(){"use strict";function e(e){}angular.module("App").controller("CreditsController",e),e.$inject=["$scope"]}(),function(){"use strict";function e(e,t,o,n,i){e.item={title:t.title,icon:t.icon,color:t.color},e.item.icon||(o.nextDirection("back"),i.nextViewOptions({disableBack:!0,disableAnimate:!0,historyRoot:!0}),n.go("app.home"))}angular.module("App").controller("EventsController",e),e.$inject=["$scope","$stateParams","$ionicViewSwitcher","$state","$ionicHistory"]}(),function(){"use strict";function e(e,t,o,n,i){e.item={title:t.title,icon:t.icon,color:t.color},e.item.icon||(o.nextDirection("back"),i.nextViewOptions({disableBack:!0,disableAnimate:!0,historyRoot:!0}),n.go("app.home")),e.names=[{name:"Ya"},{name:"Ya"},{name:"Ya"}]}angular.module("App").controller("FindPokemonController",e),e.$inject=["$scope","$stateParams","$ionicViewSwitcher","$state","$ionicHistory"]}(),function(e){"use strict";function t(e,t,o,n){e.openItem=function(e){t.$state.go(e.state,{title:e.title,icon:e.icon,color:e.color})},e.currentLanguage=t.$translate.use(),e.languages=t.$translate.getAvailableLanguageKeys(),o.$ionicPopover.fromTemplateUrl("templates/modals/changeLanguage.html",{scope:e}).then(function(t){e.popover=t}),e.openPopover=function(t){e.popover.show(t)},e.$on("$destroy",function(){e.popover.remove()}),e.changeLanguage=function(o){t.$translate.use(o),e.currentLanguage=o,window.localStorage.setItem("lang",o),e.popover.hide()},n.Audio.preload("pikachu"),e.playAudio=function(){console.log("play"),n.Audio.play("pikachu")},e.initStore=function(){n.Store.buy()}}angular.module("App").controller("HomeController",t),t.$inject=["$scope","Angular","Ionic","Model"]}(firebase),function(){"use strict";function e(e,t,o,n,i){e.item={title:t.title,icon:t.icon,color:t.color},e.item.icon||(o.nextDirection("back"),i.nextViewOptions({disableBack:!0,disableAnimate:!0,historyRoot:!0}),n.go("app.home"))}angular.module("App").controller("ItemController",e),e.$inject=["$scope","$stateParams","$ionicViewSwitcher","$state","$ionicHistory"]}(),function(){"use strict";function e(e,t,o,n,i){e.item={title:t.title,icon:t.icon,color:t.color},e.item.icon||(o.nextDirection("back"),i.nextViewOptions({disableBack:!0,disableAnimate:!0,historyRoot:!0}),n.go("app.home"))}angular.module("App").controller("MyProfileController",e),e.$inject=["$scope","$stateParams","$ionicViewSwitcher","$state","$ionicHistory"]}(),function(){"use strict";function e(e,t,o,n,i){e.item={title:t.title,icon:t.icon,color:t.color},e.item.icon||(o.nextDirection("back"),i.nextViewOptions({disableBack:!0,disableAnimate:!0,historyRoot:!0}),n.go("app.home"))}angular.module("App").controller("PokeStopsController",e),e.$inject=["$scope","$stateParams","$ionicViewSwitcher","$state","$ionicHistory"]}(),function(){"use strict";function e(e,t,o,n,i){e.item={title:t.title,icon:t.icon,color:t.color},e.item.icon||(o.nextDirection("back"),i.nextViewOptions({disableBack:!0,disableAnimate:!0,historyRoot:!0}),n.go("app.home"))}angular.module("App").controller("ReportController",e),e.$inject=["$scope","$stateParams","$ionicViewSwitcher","$state","$ionicHistory"]}(),function(){"use strict";function e(e,t,o,n,i){e.item={title:t.title,icon:t.icon,color:t.color},e.item.icon||(o.nextDirection("back"),i.nextViewOptions({disableBack:!0,disableAnimate:!0,historyRoot:!0}),n.go("app.home"))}angular.module("App").controller("StatisticsController",e),e.$inject=["$scope","$stateParams","$ionicViewSwitcher","$state","$ionicHistory"]}(),function(){"use strict";function e(e,t){e.item={title:t.title||"teams",icon:t.icon||"ion-android-globe"}}angular.module("App").controller("TeamsController",e),e.$inject=["$scope","$stateParams"]}(),function(e){"use strict";function t(t){return{restrict:"A",link:function(o,n,i){t(function(){var t=n.html();if(""===t)return!1;var o=e.link(t,{className:"autolinker",newWindow:!1});n.html(o);for(var i=n[0].getElementsByClassName("autolinker"),r=0;r<i.length;r++)angular.element(i[r]).bind("click",function(e){var t=e.target.href;return t&&window.open(t,"_blank"),e.preventDefault(),!1})},0)}}}angular.module("App").directive("autolinker",t),t.$inject=["$timeout"]}(Autolinker),function(){"use strict";function e(){return{restrict:"A",link:function(e,t){var o="day";(new Date).getHours()>=18&&(o="night"),t.addClass(o)}}}angular.module("App").directive("dayOrNight",e)}(),function(){"use strict";function e(e){return{restrict:"A",link:function(t,o,n){e.on("hold",function(e){var t=o[0].querySelector(".item-content"),n=o[0].querySelector(".item-options"),i=n.offsetWidth;ionic.requestAnimationFrame(function(){t.style[ionic.CSS.TRANSITION]="all ease-out .25s",n.classList.contains("invisible")?(n.classList.remove("invisible"),t.style[ionic.CSS.TRANSFORM]="translate3d(-"+i+"px, 0, 0)"):(t.style[ionic.CSS.TRANSFORM]="",setTimeout(function(){n.classList.add("invisible")},250))})},o)}}}angular.module("App").directive("holdList",e),e.$inject=["$ionicGesture"]}(),function(){"use strict";function e(e){function t(e,t){var o=e.length-t.length;return e.indexOf(t,o)!==-1}return{restrict:"E",link:function(o,n,i){n.on("error",function(r){var a=this.src,l=i.ngError&&e(i.ngError);l&&o.$apply(function(){l(o,{$event:r,$src:a})}),i.ngErrorSrc&&!t(a,i.ngErrorSrc)&&n.attr("src",i.ngErrorSrc)}),n.on("load",function(t){var n=i.ngSuccess&&e(i.ngSuccess);n&&o.$apply(function(){n(o,{$event:t})})})}}}angular.module("App").directive("img",e),e.$inject=["$parse"]}(),function(){"use strict";function e(e,t){return{restrict:"E",scope:{options:"="},controller:function(o,n,i){o.multipleSelect={title:i.title||"Select Options",tempOptions:[],keyProperty:i.keyProperty||"id",valueProperty:i.valueProperty||"value",selectedProperty:i.selectedProperty||"selected",templateUrl:i.templateUrl||"templates/modals/multipleSelect.html",renderCheckbox:!i.renderCheckbox||"true"==i.renderCheckbox,animation:i.animation||"slide-in-up"},o.OpenModalFromTemplate=function(t){e.fromTemplateUrl(t,{scope:o,animation:o.multipleSelect.animation}).then(function(e){o.modal=e,o.modal.show()})},t.on("tap",function(e){o.multipleSelect.tempOptions=o.options.map(function(e){var t={};return t[o.multipleSelect.keyProperty]=e[o.multipleSelect.keyProperty],t[o.multipleSelect.valueProperty]=e[o.multipleSelect.valueProperty],t[o.multipleSelect.selectedProperty]=e[o.multipleSelect.selectedProperty],t}),o.OpenModalFromTemplate(o.multipleSelect.templateUrl)},n),o.saveOptions=function(){for(var e=0;e<o.multipleSelect.tempOptions.length;e++)for(var t=o.multipleSelect.tempOptions[e],n=0;n<o.options.length;n++){var i=o.options[n];if(t[o.multipleSelect.keyProperty]==i[o.multipleSelect.keyProperty]){i[o.multipleSelect.selectedProperty]=t[o.multipleSelect.selectedProperty];break}}o.closeModal()},o.closeModal=function(){o.modal.remove()},o.$on("$destroy",function(){o.modal&&o.modal.remove()})}}}angular.module("App").directive("ionMultipleSelect",e),e.$inject=["$ionicModal","$ionicGesture"]}(),function(){"use strict";function e(e,t){return{restrict:"A",link:function(o,n,i){var r=function(){var e=n.parent()[0].offsetHeight,t=n.parent()[0].offsetWidth,o=e;o>t&&(o=t);var r=o/i.resizeHeight-.3;r<1&&(r=1),n[0].style[ionic.CSS.TRANSFORM]="scale("+r+")"};angular.element(e).bind("resize",function(){r()}),t(function(){r()},200)}}}angular.module("App").directive("resizeHeight",e),e.$inject=["$window","$timeout"]}(),function(){"use strict";function e(e,t){return{restrict:"E",scope:{options:"=",optionSelected:"="},controller:function(o,n,i){o.searchSelect={title:i.title||"Search",keyProperty:i.keyProperty,valueProperty:i.valueProperty,templateUrl:i.templateUrl||"templates/searchSelect.html",animation:i.animation||"slide-in-up",option:null,searchvalue:"",enableSearch:!i.enableSearch||"true"==i.enableSearch},t.on("tap",function(e){o.searchSelect.keyProperty&&o.searchSelect.valueProperty?o.optionSelected&&(o.searchSelect.option=o.optionSelected[o.searchSelect.keyProperty]):o.searchSelect.option=o.optionSelected,o.OpenModalFromTemplate(o.searchSelect.templateUrl)},n),o.saveOption=function(){if(o.searchSelect.keyProperty&&o.searchSelect.valueProperty)for(var e=0;e<o.options.length;e++){var t=o.options[e];if(t[o.searchSelect.keyProperty]==o.searchSelect.option){o.optionSelected=t;break}}else o.optionSelected=o.searchSelect.option;o.searchSelect.searchvalue="",o.modal.remove()},o.clearSearch=function(){o.searchSelect.searchvalue=""},o.closeModal=function(){o.modal.remove()},o.$on("$destroy",function(){o.modal&&o.modal.remove()}),o.OpenModalFromTemplate=function(t){e.fromTemplateUrl(t,{scope:o,animation:o.searchSelect.animation}).then(function(e){o.modal=e,o.modal.show()})}}}}angular.module("App").directive("ionSearchSelect",e),e.$inject=["$ionicModal","$ionicGesture"]}(),function(){"use strict";angular.module("App").filter("nl2br",["$filter",function(e){return function(e){return e?e.replace(/\n\r?/g,"<br />"):e}}])}(),function(){"use strict";function e(e,t,o,n){var i=function(){if(!o.admob){var e=new Date,n=new Date(t.localStorage.admobDate||(new Date).setDate(e.getDate()-1));e>n&&(o.admob=!0)}};return n(i,1e4),i(),{prepare:function(){t.AdMob&&t.AdMob.prepareInterstitial({adId:e.adMob.id,isTesting:!0,autoShow:!1})},open:function(){var e=this;o.admob=!1;var n=new Date;n.setMinutes(n.getMinutes()+5),t.localStorage.admobDate=n,t.AdMob&&t.AdMob.showInterstitial(function(){e.prepare()},function(t){e.prepare()})}}}angular.module("App").factory("Admob",e),e.$inject=["myConfig","$window","$rootScope","$interval"]}(),function(){"use strict";function e(e,t,o,n,i,r){return{$state:e,$timeout:t,$rootScope:o,$filter:n,$translate:i,$interval:r}}angular.module("App").factory("Angular",e),e.$inject=["$state","$timeout","$rootScope","$filter","$translate","$interval"]}(),function(){"use strict";function e(e){return{preload:function(t,o){ionic.Platform.ready(function(){window.plugins&&window.plugins.NativeAudio&&e.preloadComplex(t,"audio/"+t+"."+(o||"wav"),1,1,0)})},play:function(t){window.plugins&&window.plugins.NativeAudio&&e.play(t)}}}angular.module("App").factory("Audio",e),e.$inject=["$cordovaNativeAudio"]}(),function(e){"use strict";function t(t,o,n,i,r){o().$onAuthStateChanged(function(e){i.user=e,!e&&r.current&&r.current.auth&&alert("Change state...")}),i.$on("$stateChangeStart",function(e,t,o,a){"auth"in t&&!i.user&&r.current.name&&(e.preventDefault(),i.$broadcast(n.authEvents.notAuthorized,{next:t,nextParams:o}))});var a=["email","profile","https://www.googleapis.com/auth/plus.me","https://www.googleapis.com/auth/userinfo.email","https://www.googleapis.com/auth/userinfo.profile","https://www.googleapis.com/auth/plus.login","https://www.googleapis.com/auth/games"],l=function(){return t(function(e,t){window.plugins.googleplus.login({scopes:a.join(" "),webClientId:n.googleClientId,offline:!0},function(t){e(t)},function(e){t(e)})})};return{login:function(){if(ionic.Platform.isWebView())return l().then(function(t){var o=e.auth.GoogleAuthProvider.credential(t.idToken);return e.auth().signInWithCredential(o)});var t=new e.auth.GoogleAuthProvider;return a.forEach(function(e){t.addScope(e)}),e.auth().signInWithPopup(t)},logout:function(){return e.auth().signOut()}}}angular.module("App").factory("Auth",t),t.$inject=["$q","$firebaseAuth","myConfig","$rootScope","$state"]}(firebase),function(e,t){"use strict";function o(o){var n,i,r,a,l,c,s;return{initialize:function(o){o=o||"all",n=e.database().ref(),i=n.child("chat"),r=i.child("messages"),c=r.child(o),a=new t(i.child("locations").child(o))},addEmptyMessage:function(){var e=c.push().key;return{path:c.toString().substring(c.root.toString().length-1),key:e}},updateMessageAndLocation:function(e,t,o){n.child(e+"/"+t).update(o),a.set(t,[s.coords.latitude,s.coords.longitude])},addMessageAndLocation:function(e){var t=c.push(e).key;a.set(t,[s.coords.latitude,s.coords.longitude])},createGeoQuery:function(e,t,o,n){s=o,l=a.query({center:[o.coords.latitude,o.coords.longitude],radius:n||15}),l.on("key_entered",function(o,n,i){c.orderByKey().equalTo(o).once("value").then(function(n){var i=n.val();i&&t.$apply(function(){e.push(i[o])})})})},updateGeoQuery:function(e){l&&l.updateCriteria({center:[e.coords.latitude,e.coords.longitude]})},destroyGeoQuery:function(){l&&l.cancel()}}}angular.module("App").factory("Chat",o),o.$inject=["$timeout"]}(firebase,GeoFire),function(){"use strict";function e(e){return{getLocation:function(t){return t=t||{maximumAge:1e4,timeout:5e3,enableHighAccuracy:!1},e.getCurrentPosition(t)}}}angular.module("App").factory("Geolocation",e),e.$inject=["$cordovaGeolocation"]}(),function(){"use strict";function e(e,t,o,n,i,r,a){return{$ionicActionSheet:e,$ionicScrollDelegate:t,$ionicViewSwitcher:o,$ionicHistory:n,$ionicPopup:i,$ionicLoading:r,$ionicPopover:a}}angular.module("App").factory("Ionic",e),e.$inject=["$ionicActionSheet","$ionicScrollDelegate","$ionicViewSwitcher","$ionicHistory","$ionicPopup","$ionicLoading","$ionicPopover"]}(),function(){"use strict";function e(e){return{show:function(t){e.show({templateUrl:"templates/modals/loader.html",scope:t,hideOnStageChange:!0})},hide:function(){e.hide()}}}angular.module("App").factory("Loader",e),e.$inject=["$ionicLoading"]}(),function(e){"use strict";function t(t,o,n,i,r,a,l,c){var s=r("translate");return{uploadFile:function(o,n,i){var r=t.defer(),a=c.b64toBlob(o),l=e.storage().ref(n),s=l.child(i+".jpg").put(a);return s.on(e.storage.TaskEvent.STATE_CHANGED,function(e){var t=100*e.bytesTransferred/e.totalBytes;r.notify(t)},function(e){r.reject(e)},function(){var e=s.snapshot.downloadURL;r.resolve(e)}),r.promise},getPhoto:function(){return t(function(e,t){o.show({buttons:[{text:s("takePhoto")},{text:s("photoFromLibrary")}],titleText:s("loadImage"),cancelText:s("cancelText"),cancel:function(){t("CANCEL")},buttonClicked:function(o){if(ionic.Platform.isWebView()){var r=n.Camera.PictureSourceType.CAMERA;1===o&&(r=n.Camera.PictureSourceType.PHOTOLIBRARY),i.getPicture({quality:50,targetWidth:320,destinationType:n.Camera.DestinationType.DATA_URL,sourceType:r,allowEdit:!1,encodingType:n.Camera.EncodingType.JPEG,popoverOptions:n.CameraPopoverOptions,saveToPhotoAlbum:!1,correctOrientation:!0}).then(function(t){e(t)})["catch"](function(e){t(e)})}else t("BROWSER");return!0}})})}}}angular.module("App").factory("Media",t),t.$inject=["$q","$ionicActionSheet","$window","$cordovaCamera","$filter","$timeout","$cordovaFile","Utilities"]}(firebase),function(){"use strict";function e(e){var t=[],o=function(o,n,i){return e.fromTemplateUrl(n,{scope:o,animation:i||"slide-in-up",backdropClickToClose:!1}).then(function(e){t.push(e),e.show()})},n=function(){var e=t.splice(-1,1)[0];e.remove()},i=function(){t.map(function(e){e.remove()}),t=[]};return{openModal:o,closeModal:n,closeAllModals:i}}angular.module("App").factory("Modals",e),e.$inject=["$ionicModal"]}(),function(){"use strict";function e(e,t,o,n,i,r,a,l,c,s){return{Geolocation:e,Auth:t,Network:o,Admob:n,Audio:i,Chat:r,Loader:a,Media:l,Modals:c,Store:s}}angular.module("App").factory("Model",e),e.$inject=["Geolocation","Auth","Network","Admob","Audio","Chat","Loader","Media","Modals","Store"]}(),function(){"use strict";function e(e,t,o,n){var i,r,a,l=function(l){return i=n.defer(),l=l||5e3,ionic.Platform.isWebView()?(r=t(function(){o.isOnline()&&(s(),i.resolve("OK"))},1e3),a=e(function(){s(),i.reject("TIMEOUT")},l)):i.resolve("OK"),i.promise},c=function(e,t){e&&t.cancel(e),e=null},s=function(){c(r,t),c(a,e)},u=function(){s(),i&&i.reject("STOPPED")};return{tryToConnect:l,stop:u}}angular.module("App").factory("Network",e),e.$inject=["$timeout","$interval","$cordovaNetwork","$q"]}(),function(){"use strict";function e(e,t){var o=e.store,n=function(){var e=o.get("co.nicholls.pokedexgo.removeads");t.showAds=!e.owned,e.owned&&o.off(n)};return{initialize:function(){o=e.store,o?(o.verbosity=o.INFO,o.register({id:"co.nicholls.pokedexgo.removeads",alias:"Remove Ads",type:o.NON_CONSUMABLE}),o.ready(function(){n(),o.when("Remove Ads").loaded(function(e){alert("loaded")}).updated(n).approved(function(e){t.showAds=!1,alert("approved"),e.finish()}).owned(function(e){alert("owned")}).refunded(function(e){alert("refunded")}).error(function(e){alert("error")}).cancelled(function(e){alert("cancelled")})}),o.refresh()):t.showAds=!0},buy:function(){t.showAds&&o.order("Remove Ads")}}}angular.module("App").factory("Store",e),e.$inject=["$window","$rootScope"]}(),function(){"use strict";function e(){return{b64toBlob:function(e,t,o){t=t||"image/png",o=o||512;for(var n=atob(e),i=[],r=0;r<n.length;r+=o){for(var a=n.slice(r,r+o),l=new Array(a.length),c=0;c<a.length;c++)l[c]=a.charCodeAt(c);var s=new Uint8Array(l);i.push(s)}var u=new Blob(i,{type:t});return u},dataURLtoBlob:function(e,t){t=t||"image/png";for(var o=atob(e.split(",")[1]),n=[],i=0;i<o.length;i++)n.push(o.charCodeAt(i));return new Blob([new Uint8Array(n)],{type:t})}}}angular.module("App").factory("Utilities",e)}();